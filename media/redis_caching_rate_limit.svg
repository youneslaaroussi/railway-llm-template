<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: RedisCaching Pages: 1 -->
<svg width="1817pt" height="107pt"
 viewBox="0.00 0.00 1817.16 107.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 103)">
<title>RedisCaching</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-103 1813.16,-103 1813.16,4 -4,4"/>
<!-- client -->
<g id="node1" class="node">
<title>client</title>
<polygon fill="none" stroke="black" points="240.21,-39 49.09,-39 -0.07,-3 191.05,-3 240.21,-39"/>
<text text-anchor="middle" x="120.07" y="-17.3" font-family="Times,serif" font-size="14.00">Client requests</text>
</g>
<!-- guard -->
<g id="node2" class="node">
<title>guard</title>
<polygon fill="none" stroke="black" points="464.65,-39 277.13,-21 464.65,-3 652.16,-21 464.65,-39"/>
<text text-anchor="middle" x="464.65" y="-17.3" font-family="Times,serif" font-size="14.00">RateLimitGuard (optional)</text>
</g>
<!-- client&#45;&gt;guard -->
<g id="edge1" class="edge">
<title>client&#45;&gt;guard</title>
<path fill="none" stroke="black" d="M216.04,-21C232.02,-21 249.1,-21 266.56,-21"/>
<polygon fill="black" stroke="black" points="266.87,-24.5 276.87,-21 266.87,-17.5 266.87,-24.5"/>
</g>
<!-- controller -->
<g id="node3" class="node">
<title>controller</title>
<polygon fill="none" stroke="black" points="820.16,-76 689.16,-76 689.16,-40 820.16,-40 820.16,-76"/>
<text text-anchor="middle" x="754.66" y="-54.3" font-family="Times,serif" font-size="14.00">AgentController</text>
</g>
<!-- guard&#45;&gt;controller -->
<g id="edge2" class="edge">
<title>guard&#45;&gt;controller</title>
<path fill="none" stroke="black" d="M545.49,-31.26C587.08,-36.6 637.65,-43.1 678.53,-48.35"/>
<polygon fill="black" stroke="black" points="678.33,-51.85 688.7,-49.65 679.23,-44.91 678.33,-51.85"/>
</g>
<!-- redis -->
<g id="node6" class="node">
<title>redis</title>
<path fill="none" stroke="black" d="M1450.66,-32.73C1450.66,-34.53 1421.3,-36 1385.16,-36 1349.01,-36 1319.66,-34.53 1319.66,-32.73 1319.66,-32.73 1319.66,-3.27 1319.66,-3.27 1319.66,-1.47 1349.01,0 1385.16,0 1421.3,0 1450.66,-1.47 1450.66,-3.27 1450.66,-3.27 1450.66,-32.73 1450.66,-32.73"/>
<path fill="none" stroke="black" d="M1450.66,-32.73C1450.66,-30.92 1421.3,-29.45 1385.16,-29.45 1349.01,-29.45 1319.66,-30.92 1319.66,-32.73"/>
<text text-anchor="middle" x="1385.16" y="-14.3" font-family="Times,serif" font-size="14.00">Redis (Upstash)</text>
</g>
<!-- guard&#45;&gt;redis -->
<g id="edge7" class="edge">
<title>guard&#45;&gt;redis</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M646.29,-20.41C848.37,-19.75 1166.13,-18.71 1309.54,-18.24"/>
<polygon fill="black" stroke="black" points="1309.57,-21.74 1319.56,-18.21 1309.55,-14.74 1309.57,-21.74"/>
<text text-anchor="middle" x="905.16" y="-22.8" font-family="Times,serif" font-size="14.00">rate&#45;limit counters</text>
</g>
<!-- service -->
<g id="node4" class="node">
<title>service</title>
<polygon fill="none" stroke="black" points="1102.16,-86 990.16,-86 990.16,-50 1102.16,-50 1102.16,-86"/>
<text text-anchor="middle" x="1046.16" y="-64.3" font-family="Times,serif" font-size="14.00">AgentService</text>
</g>
<!-- controller&#45;&gt;service -->
<g id="edge3" class="edge">
<title>controller&#45;&gt;service</title>
<path fill="none" stroke="black" d="M820.27,-60.23C867.77,-61.87 932.1,-64.09 979.79,-65.74"/>
<polygon fill="black" stroke="black" points="979.89,-69.25 990,-66.09 980.13,-62.25 979.89,-69.25"/>
</g>
<!-- tools -->
<g id="node5" class="node">
<title>tools</title>
<path fill="none" stroke="black" d="M1500.16,-99C1500.16,-99 1270.16,-99 1270.16,-99 1264.16,-99 1258.16,-93 1258.16,-87 1258.16,-87 1258.16,-75 1258.16,-75 1258.16,-69 1264.16,-63 1270.16,-63 1270.16,-63 1500.16,-63 1500.16,-63 1506.16,-63 1512.16,-69 1512.16,-75 1512.16,-75 1512.16,-87 1512.16,-87 1512.16,-93 1506.16,-99 1500.16,-99"/>
<text text-anchor="middle" x="1385.16" y="-77.3" font-family="Times,serif" font-size="14.00">Tools (memory / currency / math)</text>
</g>
<!-- service&#45;&gt;tools -->
<g id="edge4" class="edge">
<title>service&#45;&gt;tools</title>
<path fill="none" stroke="black" d="M1102.43,-64.98C1141.99,-65.16 1197.06,-66.79 1248.02,-69.11"/>
<polygon fill="black" stroke="black" points="1248,-72.61 1258.15,-69.58 1248.32,-65.62 1248,-72.61"/>
</g>
<!-- service&#45;&gt;redis -->
<g id="edge6" class="edge">
<title>service&#45;&gt;redis</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1102.46,-55.35C1108.42,-54.14 1114.4,-53 1120.16,-52 1183.78,-40.95 1256.61,-31.83 1309.64,-25.83"/>
<polygon fill="black" stroke="black" points="1310.09,-29.3 1319.63,-24.71 1309.31,-22.35 1310.09,-29.3"/>
<text text-anchor="middle" x="1180.16" y="-55.8" font-family="Times,serif" font-size="14.00">read/write cache</text>
</g>
<!-- tools&#45;&gt;service -->
<g id="edge5" class="edge">
<title>tools&#45;&gt;service</title>
<path fill="none" stroke="black" d="M1258.15,-82.69C1208.66,-81.25 1153.94,-78.78 1112.63,-76"/>
<polygon fill="black" stroke="black" points="1112.65,-72.49 1102.43,-75.29 1112.16,-79.47 1112.65,-72.49"/>
</g>
<!-- cache -->
<g id="node7" class="node">
<title>cache</title>
<polygon fill="none" stroke="black" points="1803.16,-36 1549.16,-36 1549.16,0 1809.16,0 1809.16,-30 1803.16,-36"/>
<polyline fill="none" stroke="black" points="1803.16,-36 1803.16,-30 "/>
<polyline fill="none" stroke="black" points="1809.16,-30 1803.16,-30 "/>
<text text-anchor="middle" x="1679.16" y="-14.3" font-family="Times,serif" font-size="14.00">Response / tool&#45;result cache (TTL)</text>
</g>
<!-- redis&#45;&gt;cache -->
<g id="edge8" class="edge">
<title>redis&#45;&gt;cache</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M1450.96,-18C1476.93,-18 1507.91,-18 1538.53,-18"/>
<polygon fill="black" stroke="black" points="1538.89,-21.5 1548.89,-18 1538.89,-14.5 1538.89,-21.5"/>
</g>
</g>
</svg>
