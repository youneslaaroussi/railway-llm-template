<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: DeploymentRailway Pages: 1 -->
<svg width="968pt" height="150pt"
 viewBox="0.00 0.00 968.00 150.12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 146.12)">
<title>DeploymentRailway</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-146.12 964,-146.12 964,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_railway</title>
<polygon fill="#f1f3f5" stroke="#f1f3f5" points="208,-22.12 208,-134.12 682,-134.12 682,-22.12 208,-22.12"/>
<text text-anchor="middle" x="445" y="-120.53" font-family="Inter, Helvetica, Arial" font-size="12.00">Railway</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_api</title>
<polygon fill="#f1f3f5" stroke="#f1f3f5" points="417,-30.12 417,-105.12 674,-105.12 674,-30.12 417,-30.12"/>
<text text-anchor="middle" x="545.5" y="-91.53" font-family="Inter, Helvetica, Arial" font-size="12.00">API service (server)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_web</title>
<polygon fill="#f1f3f5" stroke="#f1f3f5" points="216,-32.12 216,-105.12 332,-105.12 332,-32.12 216,-32.12"/>
<text text-anchor="middle" x="274" y="-91.53" font-family="Inter, Helvetica, Arial" font-size="12.00">Web service (site)</text>
</g>
<!-- internet -->
<g id="node1" class="node">
<title>internet</title>
<polygon fill="none" stroke="black" points="131,-41.12 0,-41.12 0,-5.12 131,-5.12 131,-41.12"/>
<text text-anchor="middle" x="65.5" y="-19.43" font-family="Times,serif" font-size="14.00">Internet / Users</text>
</g>
<!-- api -->
<g id="node4" class="node">
<title>api</title>
<polygon fill="none" stroke="black" points="666,-76.12 425,-76.12 425,-38.12 666,-38.12 666,-76.12"/>
<text text-anchor="middle" x="545.5" y="-60.92" font-family="Times,serif" font-size="14.00">NestJS API</text>
<text text-anchor="middle" x="545.5" y="-45.92" font-family="Times,serif" font-size="14.00">/agent/chat, /agent/chat/stream</text>
</g>
<!-- internet&#45;&gt;api -->
<g id="edge2" class="edge">
<title>internet&#45;&gt;api</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M131.26,-17.58C155.33,-15.78 182.9,-14.01 208,-13.12 263.08,-11.18 277.18,-7.51 332,-13.12 375.01,-17.53 422.15,-26.83 461.09,-35.74"/>
<polygon fill="black" stroke="black" points="460.79,-39.27 471.32,-38.12 462.37,-32.45 460.79,-39.27"/>
<text text-anchor="middle" x="274" y="-16.93" font-family="Times,serif" font-size="14.00">HTTPS (direct)</text>
</g>
<!-- web -->
<g id="node5" class="node">
<title>web</title>
<polygon fill="none" stroke="black" points="324,-76.12 224,-76.12 224,-40.12 324,-40.12 324,-76.12"/>
<text text-anchor="middle" x="274" y="-54.42" font-family="Times,serif" font-size="14.00">Next.js App</text>
</g>
<!-- internet&#45;&gt;web -->
<g id="edge1" class="edge">
<title>internet&#45;&gt;web</title>
<path fill="none" stroke="black" d="M131.27,-34.1C157.69,-38.58 188.03,-43.72 213.84,-48.1"/>
<polygon fill="black" stroke="black" points="213.42,-51.58 223.86,-49.8 214.59,-44.67 213.42,-51.58"/>
<text text-anchor="middle" x="174.5" y="-47.92" font-family="Times,serif" font-size="14.00">HTTPS</text>
</g>
<!-- openai -->
<g id="node2" class="node">
<title>openai</title>
<polygon fill="#eee6ff" stroke="black" points="943.5,-106.12 845.5,-106.12 845.5,-102.12 841.5,-102.12 841.5,-98.12 845.5,-98.12 845.5,-78.12 841.5,-78.12 841.5,-74.12 845.5,-74.12 845.5,-70.12 943.5,-70.12 943.5,-106.12"/>
<polyline fill="none" stroke="black" points="845.5,-102.12 849.5,-102.12 849.5,-98.12 845.5,-98.12 "/>
<polyline fill="none" stroke="black" points="845.5,-78.12 849.5,-78.12 849.5,-74.12 845.5,-74.12 "/>
<text text-anchor="middle" x="894.5" y="-84.42" font-family="Times,serif" font-size="14.00">OpenAI API</text>
</g>
<!-- redis -->
<g id="node3" class="node">
<title>redis</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M960,-47.6C960,-50.24 930.64,-52.38 894.5,-52.38 858.36,-52.38 829,-50.24 829,-47.6 829,-47.6 829,-4.65 829,-4.65 829,-2.01 858.36,0.13 894.5,0.13 930.64,0.13 960,-2.01 960,-4.65 960,-4.65 960,-47.6 960,-47.6"/>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M960,-47.6C960,-44.97 930.64,-42.83 894.5,-42.83 858.36,-42.83 829,-44.97 829,-47.6"/>
<text text-anchor="middle" x="894.5" y="-29.93" font-family="Times,serif" font-size="14.00">Redis (Upstash)</text>
<text text-anchor="middle" x="894.5" y="-14.93" font-family="Times,serif" font-size="14.00">optional</text>
</g>
<!-- api&#45;&gt;openai -->
<g id="edge4" class="edge">
<title>api&#45;&gt;openai</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M666.4,-67.84C723.59,-72.95 789.39,-78.82 835.39,-82.93"/>
<polygon fill="black" stroke="black" points="835.21,-86.43 845.48,-83.83 835.83,-79.46 835.21,-86.43"/>
</g>
<!-- api&#45;&gt;redis -->
<g id="edge5" class="edge">
<title>api&#45;&gt;redis</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M666.4,-46.41C716.93,-41.9 774.17,-36.79 818.55,-32.82"/>
<polygon fill="black" stroke="black" points="819.03,-36.29 828.68,-31.92 818.41,-29.32 819.03,-36.29"/>
<text text-anchor="middle" x="750.5" y="-46.92" font-family="Times,serif" font-size="14.00">cache / rate&#45;limit</text>
</g>
<!-- web&#45;&gt;api -->
<g id="edge3" class="edge">
<title>web&#45;&gt;api</title>
<path fill="none" stroke="black" d="M324.12,-57.94C349.78,-57.85 382.51,-57.73 414.85,-57.61"/>
<polygon fill="black" stroke="black" points="414.88,-61.11 424.87,-57.57 414.86,-54.11 414.88,-61.11"/>
<text text-anchor="middle" x="376.5" y="-60.92" font-family="Times,serif" font-size="14.00">HTTP(S)</text>
</g>
</g>
</svg>
