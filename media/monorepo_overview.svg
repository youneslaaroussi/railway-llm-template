<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: MonorepoOverview Pages: 1 -->
<svg width="1656pt" height="295pt"
 viewBox="0.00 0.00 1656.00 295.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 291)">
<title>MonorepoOverview</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-291 1652,-291 1652,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_server</title>
<polygon fill="#f8f9fa" stroke="#f8f9fa" points="692,-98 692,-279 1640,-279 1640,-98 692,-98"/>
<text text-anchor="middle" x="1166" y="-265.4" font-family="Inter, Helvetica, Arial" font-size="12.00">server/ (NestJS API)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_site</title>
<polygon fill="#f8f9fa" stroke="#f8f9fa" points="8,-114 8,-273 492,-273 492,-114 8,-114"/>
<text text-anchor="middle" x="250" y="-259.4" font-family="Inter, Helvetica, Arial" font-size="12.00">site/ (Next.js UI)</text>
</g>
<!-- openai -->
<g id="node1" class="node">
<title>openai</title>
<polygon fill="#eee6ff" stroke="black" points="1349.5,-90 1251.5,-90 1251.5,-86 1247.5,-86 1247.5,-82 1251.5,-82 1251.5,-62 1247.5,-62 1247.5,-58 1251.5,-58 1251.5,-54 1349.5,-54 1349.5,-90"/>
<polyline fill="none" stroke="black" points="1251.5,-86 1255.5,-86 1255.5,-82 1251.5,-82 "/>
<polyline fill="none" stroke="black" points="1251.5,-62 1255.5,-62 1255.5,-58 1251.5,-58 "/>
<text text-anchor="middle" x="1300.5" y="-68.3" font-family="Times,serif" font-size="14.00">OpenAI API</text>
</g>
<!-- redis -->
<g id="node2" class="node">
<title>redis</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1399,-32.73C1399,-34.53 1354.85,-36 1300.5,-36 1246.15,-36 1202,-34.53 1202,-32.73 1202,-32.73 1202,-3.27 1202,-3.27 1202,-1.47 1246.15,0 1300.5,0 1354.85,0 1399,-1.47 1399,-3.27 1399,-3.27 1399,-32.73 1399,-32.73"/>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1399,-32.73C1399,-30.92 1354.85,-29.45 1300.5,-29.45 1246.15,-29.45 1202,-30.92 1202,-32.73"/>
<text text-anchor="middle" x="1300.5" y="-14.3" font-family="Times,serif" font-size="14.00">Redis (Upstash, optional)</text>
</g>
<!-- agent_controller -->
<g id="node3" class="node">
<title>agent_controller</title>
<polygon fill="none" stroke="black" points="863.5,-244 732.5,-244 732.5,-208 863.5,-208 863.5,-244"/>
<text text-anchor="middle" x="798" y="-222.3" font-family="Times,serif" font-size="14.00">AgentController</text>
</g>
<!-- agent_service -->
<g id="node4" class="node">
<title>agent_service</title>
<polygon fill="none" stroke="black" points="1045,-145 933,-145 933,-109 1045,-109 1045,-145"/>
<text text-anchor="middle" x="989" y="-123.3" font-family="Times,serif" font-size="14.00">AgentService</text>
</g>
<!-- agent_controller&#45;&gt;agent_service -->
<g id="edge1" class="edge">
<title>agent_controller&#45;&gt;agent_service</title>
<path fill="none" stroke="black" d="M863.74,-211.81C874.79,-208.32 885.94,-204.08 896,-199 920.33,-186.71 944.48,-167.47 961.92,-151.98"/>
<polygon fill="black" stroke="black" points="964.38,-154.47 969.44,-145.16 959.68,-149.28 964.38,-154.47"/>
</g>
<!-- agent_service&#45;&gt;openai -->
<g id="edge9" class="edge">
<title>agent_service&#45;&gt;openai</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1045.33,-117.17C1100.49,-107.36 1184.88,-92.37 1241.1,-82.38"/>
<polygon fill="black" stroke="black" points="1242.02,-85.77 1251.25,-80.57 1240.8,-78.88 1242.02,-85.77"/>
</g>
<!-- agent_service&#45;&gt;redis -->
<g id="edge10" class="edge">
<title>agent_service&#45;&gt;redis</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1009.64,-108.97C1023.58,-97.1 1043.25,-82.12 1063,-73 1103.3,-54.39 1150.47,-41.78 1192.03,-33.39"/>
<polygon fill="black" stroke="black" points="1192.77,-36.81 1201.91,-31.45 1191.42,-29.94 1192.77,-36.81"/>
<text text-anchor="middle" x="1123.5" y="-76.8" font-family="Times,serif" font-size="14.00">cache / rate&#45;limit</text>
</g>
<!-- tool_registry -->
<g id="node5" class="node">
<title>tool_registry</title>
<polygon fill="none" stroke="black" points="1354,-169 1247,-169 1247,-133 1354,-133 1354,-169"/>
<text text-anchor="middle" x="1300.5" y="-147.3" font-family="Times,serif" font-size="14.00">ToolRegistry</text>
</g>
<!-- agent_service&#45;&gt;tool_registry -->
<g id="edge2" class="edge">
<title>agent_service&#45;&gt;tool_registry</title>
<path fill="none" stroke="black" d="M1045.33,-131.29C1099.1,-135.46 1180.64,-141.78 1236.79,-146.14"/>
<polygon fill="black" stroke="black" points="1236.73,-149.64 1246.97,-146.93 1237.27,-142.66 1236.73,-149.64"/>
</g>
<!-- tool_memory -->
<g id="node6" class="node">
<title>tool_memory</title>
<path fill="none" stroke="black" d="M1578.5,-142C1578.5,-142 1489.5,-142 1489.5,-142 1483.5,-142 1477.5,-136 1477.5,-130 1477.5,-130 1477.5,-118 1477.5,-118 1477.5,-112 1483.5,-106 1489.5,-106 1489.5,-106 1578.5,-106 1578.5,-106 1584.5,-106 1590.5,-112 1590.5,-118 1590.5,-118 1590.5,-130 1590.5,-130 1590.5,-136 1584.5,-142 1578.5,-142"/>
<text text-anchor="middle" x="1534" y="-120.3" font-family="Times,serif" font-size="14.00">Tool: memory</text>
</g>
<!-- tool_registry&#45;&gt;tool_memory -->
<g id="edge3" class="edge">
<title>tool_registry&#45;&gt;tool_memory</title>
<path fill="none" stroke="black" d="M1354.03,-144.87C1387.54,-140.96 1431.25,-135.87 1467.08,-131.69"/>
<polygon fill="black" stroke="black" points="1467.92,-135.11 1477.45,-130.48 1467.11,-128.16 1467.92,-135.11"/>
</g>
<!-- tool_currency -->
<g id="node7" class="node">
<title>tool_currency</title>
<path fill="none" stroke="black" d="M1581,-196C1581,-196 1487,-196 1487,-196 1481,-196 1475,-190 1475,-184 1475,-184 1475,-172 1475,-172 1475,-166 1481,-160 1487,-160 1487,-160 1581,-160 1581,-160 1587,-160 1593,-166 1593,-172 1593,-172 1593,-184 1593,-184 1593,-190 1587,-196 1581,-196"/>
<text text-anchor="middle" x="1534" y="-174.3" font-family="Times,serif" font-size="14.00">Tool: currency</text>
</g>
<!-- tool_registry&#45;&gt;tool_currency -->
<g id="edge4" class="edge">
<title>tool_registry&#45;&gt;tool_currency</title>
<path fill="none" stroke="black" d="M1354.03,-157.13C1386.81,-160.95 1429.36,-165.91 1464.74,-170.04"/>
<polygon fill="black" stroke="black" points="1464.65,-173.55 1474.99,-171.23 1465.46,-166.6 1464.65,-173.55"/>
</g>
<!-- tool_math -->
<g id="node8" class="node">
<title>tool_math</title>
<path fill="none" stroke="black" d="M1620,-250C1620,-250 1448,-250 1448,-250 1442,-250 1436,-244 1436,-238 1436,-238 1436,-226 1436,-226 1436,-220 1442,-214 1448,-214 1448,-214 1620,-214 1620,-214 1626,-214 1632,-220 1632,-226 1632,-226 1632,-238 1632,-238 1632,-244 1626,-250 1620,-250"/>
<text text-anchor="middle" x="1534" y="-228.3" font-family="Times,serif" font-size="14.00">Tool: math_eval (tutorial)</text>
</g>
<!-- tool_registry&#45;&gt;tool_math -->
<g id="edge5" class="edge">
<title>tool_registry&#45;&gt;tool_math</title>
<path fill="none" stroke="black" d="M1343.16,-169.11C1369.5,-180.21 1404.42,-194.3 1436,-205 1442.03,-207.04 1448.31,-209.05 1454.64,-210.99"/>
<polygon fill="black" stroke="black" points="1454.03,-214.46 1464.61,-213.99 1456.04,-207.76 1454.03,-214.46"/>
</g>
<!-- endpoints -->
<g id="node9" class="node">
<title>endpoints</title>
<polygon fill="none" stroke="black" points="890,-189.5 700,-189.5 700,-106.5 896,-106.5 896,-183.5 890,-189.5"/>
<polyline fill="none" stroke="black" points="890,-189.5 890,-183.5 "/>
<polyline fill="none" stroke="black" points="896,-183.5 890,-183.5 "/>
<text text-anchor="middle" x="798" y="-174.3" font-family="Times,serif" font-size="14.00">Endpoints:</text>
<text text-anchor="middle" x="798" y="-159.3" font-family="Times,serif" font-size="14.00">POST /agent/chat</text>
<text text-anchor="middle" x="798" y="-144.3" font-family="Times,serif" font-size="14.00">POST /agent/chat/stream</text>
<text text-anchor="middle" x="798" y="-129.3" font-family="Times,serif" font-size="14.00">GET /healthcheck</text>
<text text-anchor="middle" x="798" y="-114.3" font-family="Times,serif" font-size="14.00">GET /api, /reference</text>
</g>
<!-- next_app -->
<g id="node10" class="node">
<title>next_app</title>
<polygon fill="none" stroke="black" points="137.5,-244 37.5,-244 37.5,-208 137.5,-208 137.5,-244"/>
<text text-anchor="middle" x="87.5" y="-222.3" font-family="Times,serif" font-size="14.00">Next.js App</text>
</g>
<!-- chat_ui -->
<g id="node11" class="node">
<title>chat_ui</title>
<path fill="none" stroke="black" d="M256,-244C256,-244 208,-244 208,-244 202,-244 196,-238 196,-232 196,-232 196,-220 196,-220 196,-214 202,-208 208,-208 208,-208 256,-208 256,-208 262,-208 268,-214 268,-220 268,-220 268,-232 268,-232 268,-238 262,-244 256,-244"/>
<text text-anchor="middle" x="232" y="-222.3" font-family="Times,serif" font-size="14.00">Chat UI</text>
</g>
<!-- next_app&#45;&gt;chat_ui -->
<g id="edge6" class="edge">
<title>next_app&#45;&gt;chat_ui</title>
<path fill="none" stroke="black" d="M137.54,-226C153.11,-226 170.25,-226 185.55,-226"/>
<polygon fill="black" stroke="black" points="185.81,-229.5 195.81,-226 185.81,-222.5 185.81,-229.5"/>
</g>
<!-- worker -->
<g id="node12" class="node">
<title>worker</title>
<polygon fill="none" stroke="black" points="484,-244 305,-244 305,-208 484,-208 484,-244"/>
<text text-anchor="middle" x="394.5" y="-222.3" font-family="Times,serif" font-size="14.00">Worker: chat.worker.ts</text>
</g>
<!-- chat_ui&#45;&gt;worker -->
<g id="edge7" class="edge">
<title>chat_ui&#45;&gt;worker</title>
<path fill="none" stroke="black" d="M268.22,-226C276.29,-226 285.25,-226 294.56,-226"/>
<polygon fill="black" stroke="black" points="294.79,-229.5 304.79,-226 294.79,-222.5 294.79,-229.5"/>
</g>
<!-- worker&#45;&gt;agent_controller -->
<g id="edge8" class="edge">
<title>worker&#45;&gt;agent_controller</title>
<path fill="none" stroke="black" stroke-width="2" d="M484.11,-226C555.5,-226 654.74,-226 722.18,-226"/>
<polygon fill="black" stroke="black" stroke-width="2" points="722.31,-229.5 732.31,-226 722.31,-222.5 722.31,-229.5"/>
<text text-anchor="middle" x="592" y="-229.8" font-family="Times,serif" font-size="14.00">POST /agent/chat/stream</text>
</g>
<!-- components -->
<g id="node13" class="node">
<title>components</title>
<polygon fill="none" stroke="black" points="153,-190 16,-190 16,-122 159,-122 159,-184 153,-190"/>
<polyline fill="none" stroke="black" points="153,-190 153,-184 "/>
<polyline fill="none" stroke="black" points="159,-184 153,-184 "/>
<text text-anchor="middle" x="87.5" y="-174.8" font-family="Times,serif" font-size="14.00">Components:</text>
<text text-anchor="middle" x="87.5" y="-159.8" font-family="Times,serif" font-size="14.00">Chat interface</text>
<text text-anchor="middle" x="87.5" y="-144.8" font-family="Times,serif" font-size="14.00">Tool call blocks</text>
<text text-anchor="middle" x="87.5" y="-129.8" font-family="Times,serif" font-size="14.00">Memory manager</text>
</g>
</g>
</svg>
